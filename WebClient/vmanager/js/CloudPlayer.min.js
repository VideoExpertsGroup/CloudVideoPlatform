if(!window.CloudPlayer) window.CloudPlayer = {};

// config
CloudPlayer.status_update_timeout = 10000; // in milliseconds

// Counters
CloudPlayer.lastLiveIdle = 0;

// backward audio
CloudPlayer.statusBackward = "";
CloudPlayer.supportBackward = false;

CloudPlayer.isStatusBackwardTransitive = function(){
	return CloudPlayer.statusBackward == "transitive";
}

// Zoom Control
CloudPlayer.generatedZoomPreview = false;

CloudPlayer.enablePTZControls = function(){
	$('#full-player-container').addClass("support-ptz");
	
	function initPtzButton(action){
		var btn_was_down = false;
		$('.ptz-' + action).unbind().bind('mousedown', function(){
			btn_was_down = true;
			CloudAPI.cameraSendPtz({"action": action});
		}).bind('mouseup', function(){
			if(btn_was_down){
				btn_was_down = false;
				CloudAPI.cameraSendPtz({"action": "stop"});
			}
		}).bind('mouseleave', function(){
			if(btn_was_down){
				btn_was_down = false;
				CloudAPI.cameraSendPtz({"action": "stop"});
			}
		});
	}
	initPtzButton("top");
	initPtzButton("left");
	initPtzButton("right");
	initPtzButton("bottom");
}

CloudPlayer.isLiveAccessDenied = function(){
	return $('.card-container').hasClass('deny-live');
}

CloudPlayer.setLiveStreamNotFound = function(){
	$('.card-container').addClass("livestreamnotfound");
}
